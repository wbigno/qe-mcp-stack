#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

npx lint-staged

# Auto-sync documentation if MCP READMEs changed
if git diff --cached --name-only | grep -qE "mcps/.*/README.md|packages/.*/README.md|swagger-hub/README.md"; then
  echo ""
  echo "ðŸ“š MCP README changed, syncing documentation..."
  npm run sync-docs

  # Stage the synced docs
  git add docs/mcps/

  echo "âœ… Documentation synced and staged"
  echo ""
fi
