{
  "data": {
    "app": "App1",
    "className": "UserService",
    "sourceCode": "using System;\nusing System.Threading.Tasks;\n\npublic class UserService\n{\n    private readonly IUserRepository _userRepository;\n    private readonly IEmailService _emailService;\n\n    public UserService(IUserRepository userRepository, IEmailService emailService)\n    {\n        _userRepository = userRepository ?? throw new ArgumentNullException(nameof(userRepository));\n        _emailService = emailService ?? throw new ArgumentNullException(nameof(emailService));\n    }\n\n    public User GetUserById(int userId)\n    {\n        if (userId <= 0)\n            throw new ArgumentException(\"User ID must be positive\", nameof(userId));\n\n        var user = _userRepository.GetById(userId);\n        \n        if (user == null)\n            throw new UserNotFoundException($\"User with ID {userId} not found\");\n\n        return user;\n    }\n\n    public async Task<bool> CreateUser(User user)\n    {\n        if (user == null)\n            throw new ArgumentNullException(nameof(user));\n\n        if (string.IsNullOrWhiteSpace(user.Email))\n            throw new ArgumentException(\"Email is required\", nameof(user.Email));\n\n        var existingUser = await _userRepository.GetByEmail(user.Email);\n        if (existingUser != null)\n            throw new DuplicateUserException($\"User with email {user.Email} already exists\");\n\n        await _userRepository.Add(user);\n        await _emailService.SendWelcomeEmail(user.Email);\n\n        return true;\n    }\n\n    public async Task<bool> DeleteUser(int userId)\n    {\n        if (userId <= 0)\n            throw new ArgumentException(\"User ID must be positive\", nameof(userId));\n\n        var user = await _userRepository.GetById(userId);\n        if (user == null)\n            return false;\n\n        await _userRepository.Delete(userId);\n        return true;\n    }\n}",
    "includeNegativeTests": true,
    "includeMocks": true
  }
}
