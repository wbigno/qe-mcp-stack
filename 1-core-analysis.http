### QE MCP Stack - Core System & Code Analysis
### Use REST Client extension in VS Code to execute these requests
### Click "Send Request" above any request to execute it

@baseUrl = http://localhost:3000

##########################################
# SYSTEM HEALTH & STATUS
##########################################

### Health Check
GET {{baseUrl}}/health

### MCP Status
GET {{baseUrl}}/api/mcp/status

### Check Specific MCP Health
GET {{baseUrl}}/api/mcp/health/dotnetCodeAnalyzer

### Check Code Analyzer
GET {{baseUrl}}/api/mcp/health/dotnetCodeAnalyzer

### Check Coverage Analyzer
GET {{baseUrl}}/api/mcp/health/dotnetCoverageAnalyzer

##########################################
# CODE ANALYSIS - SCANNING
##########################################

### Scan All Applications
POST {{baseUrl}}/api/analysis/code-scan
Content-Type: application/json

{
  "apps": ["App1", "App2", "App3", "App4"]
}

### Scan Specific Application
POST {{baseUrl}}/api/analysis/code-scan
Content-Type: application/json

{
  "apps": ["App1"]
}

### Scan with Integration Analysis
POST {{baseUrl}}/api/analysis/code-scan
Content-Type: application/json

{
  "apps": ["App1"],
  "includeIntegrations": true,
  "findEpicReferences": true,
  "findFinancialReferences": true
}

##########################################
# CODE ANALYSIS - COVERAGE
##########################################

### Get Coverage for App1
POST {{baseUrl}}/api/analysis/coverage
Content-Type: application/json

{
  "app": "App1",
  "detailed": false
}

### Get Detailed Coverage
POST {{baseUrl}}/api/analysis/coverage
Content-Type: application/json

{
  "app": "App1",
  "detailed": true
}

##########################################
# CODE ANALYSIS - TEST GAPS
##########################################

### Identify Test Gaps
POST {{baseUrl}}/api/analysis/test-gaps
Content-Type: application/json

{
  "app": "App1"
}

### Get Test Gaps with Details
POST {{baseUrl}}/api/analysis/test-gaps
Content-Type: application/json

{
  "app": "App1",
  "includeRecommendations": true
}

##########################################
# DASHBOARD ENDPOINTS - CODE
##########################################

### Get Available Applications
GET {{baseUrl}}/api/dashboard/applications

### Get Code Analysis Dashboard Data
GET {{baseUrl}}/api/dashboard/code-analysis?app=App1

### Get Coverage Dashboard Data
GET {{baseUrl}}/api/dashboard/coverage?app=App1

### Get Test Gaps Dashboard Data
GET {{baseUrl}}/api/dashboard/test-gaps?app=App1

##########################################
# COMMON ANALYSIS WORKFLOWS
##########################################

### Workflow: Complete Code Analysis
# Step 1: Scan code
POST {{baseUrl}}/api/analysis/code-scan
Content-Type: application/json

{
  "apps": ["App1"]
}

###
# Step 2: Get coverage
POST {{baseUrl}}/api/analysis/coverage
Content-Type: application/json

{
  "app": "App1",
  "detailed": true
}

###
# Step 3: Identify test gaps
POST {{baseUrl}}/api/analysis/test-gaps
Content-Type: application/json

{
  "app": "App1"
}

###
# Step 4: View in dashboard
GET {{baseUrl}}/api/dashboard/test-gaps?app=App1
